<%- include('../partials/header', { page: 'expenses', pageGroup: 'expenses' }) %>

<%- include('../partials/breadcrumb', { parent: 'Dépenses', current: 'Nouvelle dépense' }) %>

<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="fw-bold text-primary">
        <i class="bi bi-cash-coin"></i> Nouvelle dépense
    </h1>
    <a href="/expenses" class="btn btn-secondary">
        <i class="bi bi-arrow-left-circle"></i> Retour à la liste
    </a>
</div>

<form action="/expenses/add" method="POST" enctype="multipart/form-data">
    <div class="mb-3">
        <label for="category_id" class="form-label fw-bold">Catégorie</label>
        <select class="form-select" id="category_id" name="category_id" required>
            <option value="">-- Sélectionnez --</option>
            <% categories.forEach(function(category) { %>
                <option value="<%= category.id %>"><%= category.name %></option>
            <% }); %>
        </select>
    </div>
    <div class="mb-3">
        <label for="amount" class="form-label fw-bold">Montant</label>
        <input type="number" step="0.01" class="form-control" id="amount" name="amount" required>
    </div>
    <div class="mb-3">
        <label for="description" class="form-label fw-bold">Description</label>
        <textarea class="form-control" id="description" name="description" rows="3"></textarea>
    </div>
    <div class="mb-3">
        <label for="expense_date" class="form-label fw-bold">Date</label>
        <input type="date" class="form-control" id="expense_date" name="expense_date" required>
    </div>
    <div class="mb-3">
        <label for="attachment" class="form-label fw-bold">Pièce justificative (PDF, JPG...)</label>
        <input type="file" class="form-control" id="attachment" name="attachment">
    </div>
    <button type="submit" class="btn btn-success">
        <i class="bi bi-save"></i> Enregistrer
    </button>
</form>

<%- include('../partials/footer') %>
